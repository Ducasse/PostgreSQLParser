as yet unclassified
testCreateView60
	self
		parse: 'CREATE VIEW individual_suggestion_ranking AS SELECT opinion.initiative_id, opinion.member_id, direct_interest_snapshot.weight, CASE WHEN (((opinion.degree = 2) AND (opinion.fulfilled = false)) OR ((opinion.degree = (-2)) AND (opinion.fulfilled = true))) THEN 1 ELSE CASE WHEN (((opinion.degree = 1) AND (opinion.fulfilled = false)) OR ((opinion.degree = (-1)) AND (opinion.fulfilled = true))) THEN 2 ELSE CASE WHEN (((opinion.degree = 2) AND (opinion.fulfilled = true)) OR ((opinion.degree = (-2)) AND (opinion.fulfilled = false))) THEN 3 ELSE 4 END END END AS preference, opinion.suggestion_id FROM (((opinion JOIN initiative ON ((initiative.id = opinion.initiative_id))) JOIN issue ON ((issue.id = initiative.issue_id))) JOIN direct_interest_snapshot ON ((((direct_interest_snapshot.issue_id = issue.id) AND (direct_interest_snapshot.event = issue.latest_snapshot_event)) AND (direct_interest_snapshot.member_id = opinion.member_id))))' rule: #createViewCommand